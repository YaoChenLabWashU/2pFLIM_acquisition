function [xi, yi]=ivLineIntersection(x, y)

	ua = ((x(4)-x(3))*(y(1)-y(3)) - (y(4)-y(3))*(x(1)-x(3))) / ...
		((y(4)-y(3))*(x(2)-x(1)) - (x(4)-x(3))*(y(2)-y(1)));
% 	ub = ((x(2)-x(1))*(y(1)-y(3)) - (y(2)-y(1))*(x(1)-x(3))) / ...
% 		((y(4)-y(3))*(x(2)-x(1)) - (x(4)-x(3))*(y(2)-y(1)));
	
	xi=round(x(1)+ua*(x(2)-x(1)));
	yi=round(y(1)+ua*(y(2)-y(1)));
	
	